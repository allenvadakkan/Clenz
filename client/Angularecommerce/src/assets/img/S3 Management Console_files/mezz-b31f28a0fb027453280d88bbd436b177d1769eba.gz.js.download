/* @version: 2.5.4 */
(function () {var Lb=this;var nc={},Ob="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Ob){var Sb=new Uint8Array(16);nc=function(){return Ob(Sb),Sb}}else{var lc=new Array(16);nc=function(){for(var r,$=0;$<16;$++)0==(3&$)&&(r=4294967296*Math.random()),lc[$]=r>>>((3&$)<<3)&255;return lc}}for(var yb={},Ib=[],ua=0;ua<256;++ua)Ib[ua]=(ua+256).toString(16).substr(1);function td($,r){var d=r||0,j=Ib;return[j[$[d++]],j[$[d++]],j[$[d++]],j[$[d++]],"-",j[$[d++]],j[$[d++]],"-",j[$[d++]],j[$[d++]],"-",j[$[d++]],j[$[d++]],"-",j[$[d++]],j[$[d++]],j[$[d++]],j[$[d++]],j[$[d++]],j[$[d++]]].join("")}yb=td;var Ze,Ye,We={},Yb=0,jc=0;function Ue($,e,V){var r=e&&V||0,a=e||[],s=($=$||{}).node||Ze,v=void 0!==$.clockseq?$.clockseq:Ye;if(null==s||null==v){var c=nc();null==s&&(s=Ze=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==v&&(v=Ye=16383&(c[6]<<8|c[7]))}var h=void 0!==$.msecs?$.msecs:new Date().getTime(),l=void 0!==$.nsecs?$.nsecs:jc+1,o=h-Yb+(l-jc)/1e4;if(o<0&&void 0===$.clockseq&&(v=v+1&16383),(o<0||h>Yb)&&void 0===$.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Yb=h,jc=l,Ye=v;var j=(1e4*(268435455&(h+=122192928e5))+l)%4294967296;a[r++]=j>>>24&255,a[r++]=j>>>16&255,a[r++]=j>>>8&255,a[r++]=255&j;var n=h/4294967296*1e4&268435455;a[r++]=n>>>8&255,a[r++]=255&n,a[r++]=n>>>24&15|16,a[r++]=n>>>16&255,a[r++]=v>>>8|128,a[r++]=255&v;for(var t=0;t<6;++t)a[r+t]=s[t];return e||yb(a)}We=Ue;var za={};function Pe(r,$,i){var a=$&&i||0;"string"==typeof r&&($="binary"===r?new Array(16):null,r=null);var e=(r=r||{}).random||(r.rng||nc)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,$)for(var n=0;n<16;++n)$[a+n]=e[n];return $||yb(e)}za=Pe;var fb={};za.v1=We,za.v4=za,fb=za;var ea={cookie:function(e,o,n,t,c,i){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(o)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString():"")+(t?"; path="+t:"")+(c?"; domain="+c:"")+(i?"; secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}};function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var db=(ma=void 0,qa=ma,cb=qa,$b=cb,ic=$b);void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var ma=function(t,$){return Oe(t)===$};var qa=function(t){return Array.isArray(t)};var cb=function(t){return ma(t,"object")};var $b=function(t){return ma(t,"string")};var ic=function(t){return ma(t,"undefined")};db=function(t){return ma(t,"function")};var q={},Ne=q&&q.__createBinding||(Object.create?function(e,t,r,$){void 0===$&&($=r),Object.defineProperty(e,$,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,$){void 0===$&&($=r),e[$]=t[r]}),Me=q&&q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ke=q&&q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&Ne(t,e,r);return Me(t,e),t},Je=!0;q.__esModule=Je;var tb=(Ya=void 0,Jb=q.fixupTitle=Ya,wa=q.getHostName=Jb,xa=q.fixupDomain=wa,ha=q.fromQuerystring=xa,F=q.getReferrer=ha,ga=q.addEventListener=F,U=q.removeEventListener=ga,Wa=q.warn=U,dc=q.getCssClasses=Wa,fc=q.getFilter=dc,gc=q.getTransform=fc,Ua=q.decorateQuerystring=gc,Y=q.attemptGetLocalStorage=Ua,ra=q.attemptWriteLocalStorage=Y,Da=q.deleteCookie=ra,Sa=q.getCookiesWithPrefix=Da,mb=q.findRootDomain=Sa,ob=q.isValueInArray=mb,q.parseInt=ob);q.parseFloat=tb;var $a=Ke(ea),Ya=function(e){if("string"!=typeof e){e=e.text||"";var t=document.getElementsByTagName("title");t&&void 0!==t[0]&&(e=t[0].text)}return e};q.fixupTitle=Ya;var Jb=function(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e};q.getHostName=Jb;var wa=function(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e};q.fixupDomain=wa;var xa=function(e,t){var r=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null};q.fromQuerystring=xa;var ha=function(e){var t="",r=xa("referrer",window.location.href)||xa("referer",window.location.href);if(r)return r;if(e)return e;try{t=window.top.document.referrer}catch($){if(window.parent)try{t=window.parent.document.referrer}catch(o){t=""}}return""===t&&(t=document.referrer),t};q.getReferrer=ha;var F=function(e,t,r,$){return e.addEventListener?(e.addEventListener(t,r,$),!0):e.attachEvent?e.attachEvent("on"+t,r):void(e["on"+t]=r)};q.addEventListener=F;var ga=function(e,t,r){return!!e.removeEventListener&&(e.removeEventListener(t,r),!0)};q.removeEventListener=ga;var U=function(e){"undefined"!=typeof console&&console.warn("Panorama: "+e)};q.warn=U;var Wa=function(e){return e.className.match(/\S+/g)||[]};function Ie(e,t){var r,$=Wa(e);for(r=0;r<$.length;r++)if(t[$[r]])return!0;return!1}q.getCssClasses=Wa;var dc=function(e,t){if(qa(e)||!cb(e))return function(){return!0};if(e.hasOwnProperty("filter"))return e.filter;var r=e.hasOwnProperty("whitelist"),$=e.whitelist||e.blacklist;qa($)||($=[$]);for(var o={},n=0;n<$.length;n++)o[$[n]]=!0;return t?function(e){return Ie(e,o)===r}:function(e){return e.name in o===r}};q.getFilter=dc;var fc=function(e){return cb(e)&&e.hasOwnProperty("transform")?e.transform:function(e){return e}};q.getTransform=fc;var gc=function(e,t,r){var $=t+"="+r,o=e.split("#"),n=o[0].split("?"),a=n.shift(),v=n.join("?");if(v){for(var i=!0,s=v.split("&"),p=0;p<s.length;p++)if(s[p].substr(0,t.length+1)===t+"="){i=!1,s[p]=$,v=s.join("&");break}i&&(v=$+"&"+v)}else v=$;return o[0]=a+"?"+v,o.join("#")};q.decorateQuerystring=gc;var Ua=function(e){try{return localStorage.getItem(e)}catch(t){}return null};q.attemptGetLocalStorage=Ua;var Y=function(e,t){try{return localStorage.setItem(e,t),!0}catch(r){return!1}};q.attemptWriteLocalStorage=Y;var ra=function(e,t){$a.cookie(e,"",-1,"/",t)};q.deleteCookie=ra;var Da=function(e){for(var t=document.cookie.split("; "),r=[],$=0;$<t.length;$++)t[$].substring(0,e.length)===e&&r.push(t[$]);return r};q.getCookiesWithPrefix=Da;var Sa=function(){for(var e="_sp_root_domain_test_"+new Date().getTime(),t="_test_value_"+new Date().getTime(),r=window.location.hostname.split("."),$=r.length-1;$>=0;){var o=r.slice($,r.length).join(".");if($a.cookie(e,t,0,"/",o),$a.cookie(e)===t){ra(e,o);for(var n=Da("_sp_root_domain_test_"),a=0;a<n.length;a++)ra(n[a],o);return o}$-=1}return window.location.hostname};q.findRootDomain=Sa;var mb=function(e,t){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1};q.isValueInArray=mb;var ob=function(e){var t=window.parseInt(e);return isNaN(t)?void 0:t};q.parseInt=ob,tb=function(e){var t=window.parseFloat(e);return isNaN(t)?void 0:t},q.parseFloat=tb;var Fe,Ee=false;function ve(){if(Ee)return;Ee=true;Fe={};!function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,t){return r<<t|r>>>32-t},rotr:function(r,t){return r<<32-t|r>>>t},endian:function(r){if(r.constructor==Number)return 16711935&t.rotl(r,8)|4278255360&t.rotl(r,24);for(var n=0;n<r.length;n++)r[n]=t.endian(r[n]);return r},randomBytes:function(r){for(var t=[];r>0;r--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(r){for(var t=[],n=0,o=0;n<r.length;n++,o+=8)t[o>>>5]|=r[n]<<24-o%32;return t},wordsToBytes:function(r){for(var t=[],n=0;n<32*r.length;n+=8)t.push(r[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(r){for(var t=[],n=0;n<r.length;n++)t.push((r[n]>>>4).toString(16)),t.push((15&r[n]).toString(16));return t.join("")},hexToBytes:function(r){for(var t=[],n=0;n<r.length;n+=2)t.push(parseInt(r.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],o=0;o<t.length;o+=3)for(var e=t[o]<<16|t[o+1]<<8|t[o+2],u=0;u<4;u++)8*o+6*u<=8*t.length?n.push(r.charAt(e>>>6*(3-u)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],o=0,e=0;o<t.length;e=++o%4)0!=e&&n.push((r.indexOf(t.charAt(o-1))&Math.pow(2,-2*e+8)-1)<<2*e|r.indexOf(t.charAt(o))>>>6-2*e);return n}};Fe=t}()}var xb,Qa,te=false;function Cb(){if(te)return;te=true;xb={};Qa={utf8:{stringToBytes:function(n){return Qa.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(Qa.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],e=0;e<n.length;e++)r.push(255&n.charCodeAt(e));return r},bytesToString:function(n){for(var r=[],e=0;e<n.length;e++)r.push(String.fromCharCode(n[e]));return r.join("")}}};xb=Qa}var he=Td;var Gb=Hd;for(var H=[],E=[],ge="undefined"!=typeof Uint8Array?Uint8Array:Array,Oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ca=0,fe=Oa.length;ca<fe;++ca)H[ca]=Oa[ca],E[Oa.charCodeAt(ca)]=ca;function ae($){var r=$.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=$.indexOf("=");return-1===p&&(p=r),[p,p===r?0:4-p%4]}function Wd($,r,p){return 3*(r+p)/4-p}function Td($){var r,p,o=ae($),e=o[0],y=o[1],h=new ge(Wd($,e,y)),a=0,t=y>0?e-4:e;for(p=0;p<t;p+=4)r=E[$.charCodeAt(p)]<<18|E[$.charCodeAt(p+1)]<<12|E[$.charCodeAt(p+2)]<<6|E[$.charCodeAt(p+3)],h[a++]=r>>16&255,h[a++]=r>>8&255,h[a++]=255&r;return 2===y&&(r=E[$.charCodeAt(p)]<<2|E[$.charCodeAt(p+1)]>>4,h[a++]=255&r),1===y&&(r=E[$.charCodeAt(p)]<<10|E[$.charCodeAt(p+1)]<<4|E[$.charCodeAt(p+2)]>>2,h[a++]=r>>8&255,h[a++]=255&r),h}function Od($){return H[$>>18&63]+H[$>>12&63]+H[$>>6&63]+H[63&$]}function $e($,r,p){for(var o,e=[],y=r;y<p;y+=3)o=($[y]<<16&16711680)+($[y+1]<<8&65280)+(255&$[y+2]),e.push(Od(o));return e.join("")}function Hd($){for(var r,p=$.length,o=p%3,e=[],y=0,h=p-o;y<h;y+=16383)e.push($e($,y,y+16383>h?h:y+16383));return 1===o?(r=$[p-1],e.push(H[r>>2]+H[r<<4&63]+"==")):2===o&&(r=($[p-2]<<8)+$[p-1],e.push(H[r>>10]+H[r>>4&63]+H[r<<2&63]+"=")),e.join("")}E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63;var ya=function(t,r,o,a,$){var e,p,J=8*$-a-1,N=(1<<J)-1,h=N>>1,M=-7,w=o?$-1:0,f=o?-1:1,i=t[r+w];for(w+=f,e=i&(1<<-M)-1,i>>=-M,M+=J;M>0;e=256*e+t[r+w],w+=f,M-=8);for(p=e&(1<<-M)-1,e>>=-M,M+=a;M>0;p=256*p+t[r+w],w+=f,M-=8);if(0===e)e=1-h;else{if(e===N)return p?NaN:1/0*(i?-1:1);p+=Math.pow(2,a),e-=h}return(i?-1:1)*p*Math.pow(2,e-a)};var bc=function(t,r,o,a,$,e){var p,J,N,h=8*e-$-1,M=(1<<h)-1,w=M>>1,f=23===$?Math.pow(2,-24)-Math.pow(2,-77):0,i=a?0:e-1,g=a?1:-1,s=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(J=isNaN(r)?1:0,p=M):(p=Math.floor(Math.log(r)/Math.LN2),r*(N=Math.pow(2,-p))<1&&(p--,N*=2),(r+=p+w>=1?f/N:f*Math.pow(2,1-w))*N>=2&&(p++,N/=2),p+w>=M?(J=0,p=M):p+w>=1?(J=(r*N-1)*Math.pow(2,$),p+=w):(J=r*Math.pow(2,w-1)*Math.pow(2,$),p=0));$>=8;t[o+i]=255&J,i+=g,J/=256,$-=8);for(p=p<<$|J,h+=$;h>0;t[o+i]=255&p,i+=g,p/=256,h-=8);t[o+i-g]|=128*s};var cc={},Ed={}.toString;cc=Array.isArray||function(r){return"[object Array]"==Ed.call(r)};var Ad=b;var zd=50;b.TYPED_ARRAY_SUPPORT=void 0!==Lb.TYPED_ARRAY_SUPPORT?Lb.TYPED_ARRAY_SUPPORT:pd();var a=Aa();function pd(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()&&"function"==typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(e){return!1}}function Aa(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function O(r,e){if(Aa()<e)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e)).__proto__=b.prototype:(null===r&&(r=new b(e)),r.length=e),r}function b(r,e,t){if(!(b.TYPED_ARRAY_SUPPORT||this instanceof b))return new b(r,e,t);if("number"==typeof r){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Ea(this,r)}return jb(this,r,e,t)}function jb(r,e,t,$){if("number"==typeof e)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?md(r,e,t,$):"string"==typeof e?nd(r,e,t):ld(r,e)}function kb(r){if("number"!=typeof r)throw new TypeError("\"size\" argument must be a number");if(r<0)throw new RangeError("\"size\" argument must not be negative")}function od(r,e,t,$){return kb(e),e<=0?O(r,e):void 0!==t?"string"==typeof $?O(r,e).fill(t,$):O(r,e).fill(t):O(r,e)}function Ea(r,e){if(kb(e),r=O(r,e<0?0:0|Fa(e)),!b.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}function nd(r,e,t){if("string"==typeof t&&""!==t||(t="utf8"),!b.isEncoding(t))throw new TypeError("\"encoding\" must be a valid string encoding");var $=0|sb(e,t),n=(r=O(r,$)).write(e,t);return n!==$&&(r=r.slice(0,n)),r}function Ta(r,e){var t=e.length<0?0:0|Fa(e.length);r=O(r,t);for(var $=0;$<t;$+=1)r[$]=255&e[$];return r}function md(r,e,t,$){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+($||0))throw new RangeError("'length' is out of bounds");return e=void 0===t&&void 0===$?new Uint8Array(e):void 0===$?new Uint8Array(e,t):new Uint8Array(e,t,$),b.TYPED_ARRAY_SUPPORT?(r=e).__proto__=b.prototype:r=Ta(r,e),r}function ld(r,e){if(b.isBuffer(e)){var t=0|Fa(e.length);return 0===(r=O(r,t)).length?r:(e.copy(r,0,0,t),r)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Fc(e.length)?O(r,0):Ta(r,e);if("Buffer"===e.type&&cc(e.data))return Ta(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Fa(r){if(r>=Aa())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Aa().toString(16)+" bytes");return 0|r}function sb(r,e){if(b.isBuffer(r))return r.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;"string"!=typeof r&&(r=""+r);var t=r.length;if(0===t)return 0;for(var $=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return oa(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return Zb(r).length;default:if($)return oa(r).length;e=(""+e).toLowerCase(),$=!0;}}function kd(r,e,t){var $=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(e>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return $c(this,e,t);case"utf8":case"utf-8":return Eb(this,e,t);case"ascii":return cd(this,e,t);case"latin1":case"binary":return ad(this,e,t);case"base64":return ed(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xc(this,e,t);default:if($)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),$=!0;}}function Z(r,e,t){var $=r[e];r[e]=r[t],r[t]=$}function vb(r,e,t,$,n){if(0===r.length)return-1;if("string"==typeof t?($=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0){if(!n)return-1;t=0}if("string"==typeof e&&(e=b.from(e,$)),b.isBuffer(e))return 0===e.length?-1:wb(r,e,t,$,n);if("number"==typeof e)return e&=255,b.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):wb(r,[e],t,$,n);throw new TypeError("val must be string, number or Buffer")}function wb(r,e,t,$,n){var s,f=1,h=r.length,a=e.length;if(void 0!==$&&("ucs2"===($=String($).toLowerCase())||"ucs-2"===$||"utf16le"===$||"utf-16le"===$)){if(r.length<2||e.length<2)return-1;f=2,h/=2,a/=2,t/=2}function i(r,e){return 1===f?r[e]:r.readUInt16BE(e*f)}if(n){var o=-1;for(s=t;s<h;s++)if(i(r,s)===i(e,-1===o?0:s-o)){if(-1===o&&(o=s),s-o+1===a)return o*f}else-1!==o&&(s-=s-o),o=-1}else for(t+a>h&&(t=h-a),s=t;s>=0;s--){for(var u=!0,d=0;d<a;d++)if(i(r,s+d)!==i(e,d)){u=!1;break}if(u)return s}return-1}function jd(r,e,t,$){t=Number(t)||0;var n=r.length-t;$?($=Number($))>n&&($=n):$=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");$>s/2&&($=s/2);for(var f=0;f<$;++f){var h=parseInt(e.substr(2*f,2),16);if(isNaN(h))return f;r[t+f]=h}return f}function id(r,e,t,$){return ta(oa(e,r.length-t),r,t,$)}function zb(r,e,t,$){return ta(Hc(e),r,t,$)}function hd(r,e,t,$){return zb(r,e,t,$)}function gd(r,e,t,$){return ta(Zb(e),r,t,$)}function fd(r,e,t,$){return ta(Gc(e,r.length-t),r,t,$)}function ed(r,e,t){return 0===e&&t===r.length?Gb(r):Gb(r.slice(e,t))}function Eb(r,e,t){t=Math.min(r.length,t);for(var $=[],n=e;n<t;){var s,f,h,a,i=r[n],o=null,u=i>239?4:i>223?3:i>191?2:1;if(n+u<=t)switch(u){case 1:i<128&&(o=i);break;case 2:128==(192&(s=r[n+1]))&&(a=(31&i)<<6|63&s)>127&&(o=a);break;case 3:s=r[n+1],f=r[n+2],128==(192&s)&&128==(192&f)&&(a=(15&i)<<12|(63&s)<<6|63&f)>2047&&(a<55296||a>57343)&&(o=a);break;case 4:s=r[n+1],f=r[n+2],h=r[n+3],128==(192&s)&&128==(192&f)&&128==(192&h)&&(a=(15&i)<<18|(63&s)<<12|(63&f)<<6|63&h)>65535&&a<1114112&&(o=a);}null===o?(o=65533,u=1):o>65535&&(o-=65536,$.push(o>>>10&1023|55296),o=56320|1023&o),$.push(o),n+=u}return dd($)}b.poolSize=8192,b._augment=function(r){return r.__proto__=b.prototype,r},b.from=function(r,e,t){return jb(null,r,e,t)},b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0})),b.alloc=function(r,e,t){return od(null,r,e,t)},b.allocUnsafe=function(r){return Ea(null,r)},b.allocUnsafeSlow=function(r){return Ea(null,r)},b.isBuffer=function(r){return!(null==r||!r._isBuffer)},b.compare=function(r,e){if(!b.isBuffer(r)||!b.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(r===e)return 0;for(var t=r.length,$=e.length,n=0,s=Math.min(t,$);n<s;++n)if(r[n]!==e[n]){t=r[n],$=e[n];break}return t<$?-1:$<t?1:0},b.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},b.concat=function(r,e){if(!cc(r))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===r.length)return b.alloc(0);var t;if(void 0===e)for(e=0,t=0;t<r.length;++t)e+=r[t].length;var $=b.allocUnsafe(e),n=0;for(t=0;t<r.length;++t){var s=r[t];if(!b.isBuffer(s))throw new TypeError("\"list\" argument must be an Array of Buffers");s.copy($,n),n+=s.length}return $},b.byteLength=sb,b.prototype._isBuffer=!0,b.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)Z(this,e,e+1);return this},b.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)Z(this,e,e+3),Z(this,e+1,e+2);return this},b.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)Z(this,e,e+7),Z(this,e+1,e+6),Z(this,e+2,e+5),Z(this,e+3,e+4);return this},b.prototype.toString=function(){var r=0|this.length;return 0===r?"":0===arguments.length?Eb(this,0,r):kd.apply(this,arguments)},b.prototype.equals=function(r){if(!b.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===b.compare(this,r)},b.prototype.inspect=function(){var r="",e=zd;return this.length>0&&(r=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(r+=" ... ")),"<Buffer "+r+">"},b.prototype.compare=function(r,e,t,$,n){if(!b.isBuffer(r))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===t&&(t=r?r.length:0),void 0===$&&($=0),void 0===n&&(n=this.length),e<0||t>r.length||$<0||n>this.length)throw new RangeError("out of range index");if($>=n&&e>=t)return 0;if($>=n)return-1;if(e>=t)return 1;if(this===r)return 0;for(var s=(n>>>=0)-($>>>=0),f=(t>>>=0)-(e>>>=0),h=Math.min(s,f),a=this.slice($,n),i=r.slice(e,t),o=0;o<h;++o)if(a[o]!==i[o]){s=a[o],f=i[o];break}return s<f?-1:f<s?1:0},b.prototype.includes=function(r,e,t){return-1!==this.indexOf(r,e,t)},b.prototype.indexOf=function(r,e,t){return vb(this,r,e,t,!0)},b.prototype.lastIndexOf=function(r,e,t){return vb(this,r,e,t,!1)},b.prototype.write=function(r,e,t,$){if(void 0===e)$="utf8",t=this.length,e=0;else if(void 0===t&&"string"==typeof e)$=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(t)?(t|=0,void 0===$&&($="utf8")):($=t,t=void 0)}var n=this.length-e;if((void 0===t||t>n)&&(t=n),r.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var s=!1;;)switch($){case"hex":return jd(this,r,e,t);case"utf8":case"utf-8":return id(this,r,e,t);case"ascii":return zb(this,r,e,t);case"latin1":case"binary":return hd(this,r,e,t);case"base64":return gd(this,r,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fd(this,r,e,t);default:if(s)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),s=!0;}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Fb=4096;function dd(r){var e=r.length;if(e<=Fb)return String.fromCharCode.apply(String,r);for(var t="",$=0;$<e;)t+=String.fromCharCode.apply(String,r.slice($,$+=Fb));return t}function cd(r,e,t){var $="";t=Math.min(r.length,t);for(var n=e;n<t;++n)$+=String.fromCharCode(127&r[n]);return $}function ad(r,e,t){var $="";t=Math.min(r.length,t);for(var n=e;n<t;++n)$+=String.fromCharCode(r[n]);return $}function $c(r,e,t){var $=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>$)&&(t=$);for(var n="",s=e;s<t;++s)n+=Ic(r[s]);return n}function Xc(r,e,t){for(var $=r.slice(e,t),n="",s=0;s<$.length;s+=2)n+=String.fromCharCode($[s]+256*$[s+1]);return n}function z(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}function D(r,e,t,$,n,s){if(!b.isBuffer(r))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(e>n||e<s)throw new RangeError("\"value\" argument is out of bounds");if(t+$>r.length)throw new RangeError("Index out of range")}function sa(r,e,t,$){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(r.length-t,2);n<s;++n)r[t+n]=(e&255<<8*($?n:1-n))>>>8*($?n:1-n)}function pa(r,e,t,$){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(r.length-t,4);n<s;++n)r[t+n]=e>>>8*($?n:3-n)&255}function Pb(r,e,t,$,n,s){if(t+$>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Qb(r,e,t,$,n){return n||Pb(r,e,t,4,3.4028234663852886e38,-3.4028234663852886e38),bc(r,e,t,$,23,4),t+4}function Rb(r,e,t,$,n){return n||Pb(r,e,t,8,1.7976931348623157e308,-1.7976931348623157e308),bc(r,e,t,$,52,8),t+8}b.prototype.slice=function(r,e){var t,$=this.length;if((r=~~r)<0?(r+=$)<0&&(r=0):r>$&&(r=$),(e=void 0===e?$:~~e)<0?(e+=$)<0&&(e=0):e>$&&(e=$),e<r&&(e=r),b.TYPED_ARRAY_SUPPORT)(t=this.subarray(r,e)).__proto__=b.prototype;else{var n=e-r;t=new b(n,void 0);for(var s=0;s<n;++s)t[s]=this[s+r]}return t},b.prototype.readUIntLE=function(r,e,t){r|=0,e|=0,t||z(r,e,this.length);for(var $=this[r],n=1,s=0;++s<e&&(n*=256);)$+=this[r+s]*n;return $},b.prototype.readUIntBE=function(r,e,t){r|=0,e|=0,t||z(r,e,this.length);for(var $=this[r+--e],n=1;e>0&&(n*=256);)$+=this[r+--e]*n;return $},b.prototype.readUInt8=function(r,e){return e||z(r,1,this.length),this[r]},b.prototype.readUInt16LE=function(r,e){return e||z(r,2,this.length),this[r]|this[r+1]<<8},b.prototype.readUInt16BE=function(r,e){return e||z(r,2,this.length),this[r]<<8|this[r+1]},b.prototype.readUInt32LE=function(r,e){return e||z(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},b.prototype.readUInt32BE=function(r,e){return e||z(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},b.prototype.readIntLE=function(r,e,t){r|=0,e|=0,t||z(r,e,this.length);for(var $=this[r],n=1,s=0;++s<e&&(n*=256);)$+=this[r+s]*n;return $>=(n*=128)&&($-=Math.pow(2,8*e)),$},b.prototype.readIntBE=function(r,e,t){r|=0,e|=0,t||z(r,e,this.length);for(var $=e,n=1,s=this[r+--$];$>0&&(n*=256);)s+=this[r+--$]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},b.prototype.readInt8=function(r,e){return e||z(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},b.prototype.readInt16LE=function(r,e){e||z(r,2,this.length);var t=this[r]|this[r+1]<<8;return 32768&t?4294901760|t:t},b.prototype.readInt16BE=function(r,e){e||z(r,2,this.length);var t=this[r+1]|this[r]<<8;return 32768&t?4294901760|t:t},b.prototype.readInt32LE=function(r,e){return e||z(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},b.prototype.readInt32BE=function(r,e){return e||z(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},b.prototype.readFloatLE=function(r,e){return e||z(r,4,this.length),ya(this,r,!0,23,4)},b.prototype.readFloatBE=function(r,e){return e||z(r,4,this.length),ya(this,r,!1,23,4)},b.prototype.readDoubleLE=function(r,e){return e||z(r,8,this.length),ya(this,r,!0,52,8)},b.prototype.readDoubleBE=function(r,e){return e||z(r,8,this.length),ya(this,r,!1,52,8)},b.prototype.writeUIntLE=function(r,e,t,$){(r=+r,e|=0,t|=0,$)||D(this,r,e,t,Math.pow(2,8*t)-1,0);var n=1,s=0;for(this[e]=255&r;++s<t&&(n*=256);)this[e+s]=r/n&255;return e+t},b.prototype.writeUIntBE=function(r,e,t,$){(r=+r,e|=0,t|=0,$)||D(this,r,e,t,Math.pow(2,8*t)-1,0);var n=t-1,s=1;for(this[e+n]=255&r;--n>=0&&(s*=256);)this[e+n]=r/s&255;return e+t},b.prototype.writeUInt8=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,1,255,0),b.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},b.prototype.writeUInt16LE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):sa(this,r,e,!0),e+2},b.prototype.writeUInt16BE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):sa(this,r,e,!1),e+2},b.prototype.writeUInt32LE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):pa(this,r,e,!0),e+4},b.prototype.writeUInt32BE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):pa(this,r,e,!1),e+4},b.prototype.writeIntLE=function(r,e,t,$){if(r=+r,e|=0,!$){var n=Math.pow(2,8*t-1);D(this,r,e,t,n-1,-n)}var s=0,f=1,h=0;for(this[e]=255&r;++s<t&&(f*=256);)r<0&&0===h&&0!==this[e+s-1]&&(h=1),this[e+s]=(r/f>>0)-h&255;return e+t},b.prototype.writeIntBE=function(r,e,t,$){if(r=+r,e|=0,!$){var n=Math.pow(2,8*t-1);D(this,r,e,t,n-1,-n)}var s=t-1,f=1,h=0;for(this[e+s]=255&r;--s>=0&&(f*=256);)r<0&&0===h&&0!==this[e+s+1]&&(h=1),this[e+s]=(r/f>>0)-h&255;return e+t},b.prototype.writeInt8=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,1,127,-128),b.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=255&r,e+1},b.prototype.writeInt16LE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):sa(this,r,e,!0),e+2},b.prototype.writeInt16BE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):sa(this,r,e,!1),e+2},b.prototype.writeInt32LE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):pa(this,r,e,!0),e+4},b.prototype.writeInt32BE=function(r,e,t){return r=+r,e|=0,t||D(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),b.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):pa(this,r,e,!1),e+4},b.prototype.writeFloatLE=function(r,e,t){return Qb(this,r,e,!0,t)},b.prototype.writeFloatBE=function(r,e,t){return Qb(this,r,e,!1,t)},b.prototype.writeDoubleLE=function(r,e,t){return Rb(this,r,e,!0,t)},b.prototype.writeDoubleBE=function(r,e,t){return Rb(this,r,e,!1,t)},b.prototype.copy=function(r,e,t,$){if(t||(t=0),$||0===$||($=this.length),e>=r.length&&(e=r.length),e||(e=0),$>0&&$<t&&($=t),$===t)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),r.length-e<$-t&&($=r.length-e+t);var n,s=$-t;if(this===r&&t<e&&e<$)for(n=s-1;n>=0;--n)r[n+e]=this[n+t];else if(s<1e3||!b.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)r[n+e]=this[n+t];else Uint8Array.prototype.set.call(r,this.subarray(t,t+s),e);return s},b.prototype.fill=function(r,e,t,$){if("string"==typeof r){if("string"==typeof e?($=e,e=0,t=this.length):"string"==typeof t&&($=t,t=this.length),1===r.length){var n=r.charCodeAt(0);n<256&&(r=n)}if(void 0!==$&&"string"!=typeof $)throw new TypeError("encoding must be a string");if("string"==typeof $&&!b.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else"number"==typeof r&&(r&=255);if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var s;if(e>>>=0,t=void 0===t?this.length:t>>>0,r||(r=0),"number"==typeof r)for(s=e;s<t;++s)this[s]=r;else{var f=b.isBuffer(r)?r:oa(new b(r,$).toString()),h=f.length;for(s=0;s<t-e;++s)this[s+e]=f[s%h]}return this};var Lc=/[^+\/0-9A-Za-z-_]/g;function Kc(r){if((r=Jc(r).replace(Lc,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}function Jc(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Ic(r){return r<16?"0"+r.toString(16):r.toString(16)}function oa(r,e){var t;e=e||1/0;for(var $=r.length,n=null,s=[],f=0;f<$;++f){if((t=r.charCodeAt(f))>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(f+1===$){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=65536+(n-55296<<10|t-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return s}function Hc(r){for(var e=[],t=0;t<r.length;++t)e.push(255&r.charCodeAt(t));return e}function Gc(r,e){for(var t,$,n,s=[],f=0;f<r.length&&!((e-=2)<0);++f)$=(t=r.charCodeAt(f))>>8,n=t%256,s.push(n),s.push($);return s}function Zb(r){return he(Kc(r))}function ta(r,e,t,$){for(var n=0;n<$&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Fc(r){return r!=r}var ja={},_a=Ad;!function(){var r=(ve(),Fe),e=(Cb(),xb).utf8,t=(Cb(),xb).bin,f=function(f,a){var $=r.wordsToBytes(function(t){t.constructor==String?t=e.stringToBytes(t):void 0!==_a&&"function"==typeof _a.isBuffer&&_a.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());var f=r.bytesToWords(t),a=8*t.length,$=[],i=1732584193,o=-271733879,s=-1732584194,n=271733878,u=-1009589776;f[a>>5]|=128<<24-a%32,f[15+(a+64>>>9<<4)]=a;for(var c=0;c<f.length;c+=16){for(var v=i,y=o,l=s,p=n,B=u,L=0;L<80;L++){if(L<16)$[L]=f[c+L];else{var P=$[L-3]^$[L-8]^$[L-14]^$[L-16];$[L]=P<<1|P>>>31}var X=(i<<5|i>>>27)+u+($[L]>>>0)+(L<20?1518500249+(o&s|~o&n):L<40?1859775393+(o^s^n):L<60?(o&s|o&n|s&n)-1894007588:(o^s^n)-899497514);u=n,n=s,s=o<<30|o>>>2,o=i,i=X}i+=v,o+=y,s+=l,n+=p,u+=B}return[i,o,s,n,u]}(f));return a&&a.asBytes?$:a&&a.asString?t.bytesToString($):r.bytesToHex($)};f._blocksize=16,f._digestsize=20,ja=f}();var Ca={},Ec=!0;Ca.__esModule=Ec;var ec=void 0;function Dc(e){var o,$,r,t,a,h,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=0,s=0,d=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{o=(a=e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<8|e.charCodeAt(n++))>>18&63,$=a>>12&63,r=a>>6&63,t=63&a,d[s++]=c.charAt(o)+c.charAt($)+c.charAt(r)+c.charAt(t)}while(n<e.length);h=d.join("");var k=e.length%3;return(k?h.slice(0,k-3):h)+"===".slice(k||3)}Ca.base64encode=ec,ec=Dc,Ca.base64encode=ec;var A={},yc=A&&A.__createBinding||(Object.create?function(r,e,t,$){void 0===$&&($=t),Object.defineProperty(r,$,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,$){void 0===$&&($=t),r[$]=e[t]}),xc=A&&A.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vc=A&&A.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)"default"!==t&&Object.hasOwnProperty.call(r,t)&&yc(e,r,t);return xc(e,r),e},uc=!0;A.__esModule=uc;var aa=(oc=void 0,hb=A.base64urlencode=oc,mc=A.isJson=hb,A.isNonEmptyJson=mc);A.PayloadBuilder=aa;var sc=vc(Ca);function rc(r){return r?sc.base64encode(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"):r}var oc=rc;function pc(r){return null!=r&&(r.constructor==={}.constructor||r.constructor===[].constructor)}A.base64urlencode=oc;var hb=pc;function Jd(r){if(!pc(r))return!1;for(var e in r)if(r.hasOwnProperty(e))return!0;return!1}A.isJson=hb;var mc=Jd;A.isNonEmptyJson=mc;var tc=function(){function r(r){this.request={},this.batchAttr={},this.header={},this.base64encode=r||!1}return r.prototype.update=function(r,e,t){for(var $ in r)r.hasOwnProperty($)&&!this.request[$]&&(this.request[$]=r[$]);for(var $ in e)e.hasOwnProperty($)&&(this.batchAttr[$]=e[$]);t&&(this.header=t)},r.prototype.getHeader=function(){return this.header},r.prototype.getBatchAttribute=function(){return this.batchAttr},r.prototype.build=function(){return this.request},r}();aa=tc,A.PayloadBuilder=aa;var fa=void 0;fa={CAPTURE_FAC:!1,MAX_FIELD_LENGTH:4e3,EVENT_FIELDS_TO_CHECK:["eventValue","eventDetail","eventContext"],CLOG_UNLOAD_OPS_METRICS:["total_time","active_time","active_percentage","numClogSeen","numClogThrottled","numClogCaptured","numPanoramaRetries","numInClogBuffer","numPanoramaRequests","totalDedupes","throttledLogsCount","totalLogsCount","unFlushedLogsCount","noKeyErrorCount","jsErrorLogsThrottledCount","totalJsErrorLogsCount","totalCustomerReadyLogsCount","customerReadyLogsThrottledCount"],CLOG_METRICS_TO_IGNORE:["panoRoutingTimeoutExceeded","panoRoutingSuccessLatency","panoRoutingFailureLatency"],cookieDomain:null,forceSecureTracker:!1,forceUnsecureTracker:!1,stateStorageStrategy:"localStorage",pluginsEnabledByDefault:!1,configTrackerPause:500,trackMouseMoves:!1,whitelist:!1,modality:"web",outqueueRetries:1,COOKIES_TO_CAPTURE:["aws-userInfo","aws-csds-token","s_fid"],PERFORMANCE_PLUGIN_PARAMETERS:{DETAILED_PERFORMANCE_METRICS:!1,MAX_MEASURE_TIME:15e3,FID_THRESHOLD:50,FRAME_THRESHOLD:1500,RESOURCE_THRESHOLD:1500},VALID_EVENT_LISTENERS:["afterSend","beforeSend","onCapture","onDiscard","onProcessed","onQueued"],DOMAINS:{NONPROD:/alpha|beta|gamma|integ|preprod|pre-prod/i,PROD:"aws.amazon.com"}};var da=(W=void 0,hc=W,zc=hc);var wc=fa.VALID_EVENT_LISTENERS,W={};var hc=function(e,t){wc.indexOf(e)>=0&&(W.hasOwnProperty(e)?W[e].push(t):W[e]=[t])};var zc=function(e,t){for(var $=W[e],r=$.length-1;r>=0;r--){$[r].toString()===t.toString()&&W[e].splice(r,1)}};da=function(e,t){W.hasOwnProperty(e)&&W[e].forEach(function(e){return e.call(null,t)})};var Ac=void 0;function Bc(o){return o.payload.request.requestId=fb.v4(),o.payload.request.timestamp=o.tstamp?o.tstamp:new Date().getTime(),delete o.payload.tag,o.payload.update(o.commonPayloadAttr,o.commonBatchAttr,o.commonPayloadHeader),"function"==typeof o.callback&&o.callback(o.payload),o.payload}Ac=Bc;var Cc=(G=void 0,bb=G,Za=bb,Xa=Za,Xb=Xa,Vb=Xb,Ub=Vb,Tb=Ub,Va=Tb,Mc=Va);var G="panorama";var bb="polaroid";var Za="operational";var Xa="polaroid";var Xb="scroll";var Vb="click";var Ub="dwell";var Tb="hover";var Va="view";var Mc="pageRender";Cc=/https:\/\/(.*?).?console.aws.amazon.com\/(.*?)\//;var Nc=void 0;function Oc(e,$,l){var a=new aa($);return a.update(e),a.request.eventSource=G,a.request.eventType=Mc,a.request.requestUri=e.pageUrlPath,l({payload:a,tstamp:e.timestamp})}Nc=Oc;var Pc=void 0;function Qc(a,r,e){var $=new aa(r);return $.update(a),$.request.eventSource=G,$.request.eventType=Xb,$.request.eventPath=a.eventPath,$=e({payload:$,tstamp:a.timestamp})}Pc=Qc;var Rc=void 0;function Sc(a,$,r){var e=new aa($);return e.update(a),e.request.eventSource=G,e.request.eventType=Vb,e=r({payload:e,tstamp:a.timestamp})}Rc=Sc;var Tc=void 0;function Uc(t,$,e){var r=new aa($);return t.eventSource||(t.eventSource="panorama"),r.update(t),r=e({payload:r,tstamp:t.timestamp})}Tc=Uc;var Vc=void 0;var Wc=function(){return function(){var o=this;this.commonPayloadAttr={},this.commonPayloadHeader={},this.commonBatchAttr={},this.addCommonPayloadAttr=function(t,e){o.commonPayloadAttr[t]=e},this.addCommonPayloadHeader=function(t,e){o.commonPayloadHeader[t]=e},this.addCommonBatchAttr=function(t,e){o.commonBatchAttr[t]=e},this.setAWSRegion=function(t){o.addCommonPayloadAttr("consoleRegion",t)},this.setAWSUserInfo=function(t){o.addCommonBatchAttr("awsUserInfo",encodeURI(t))},this.setAWSUserInfoSigned=function(t){o.addCommonBatchAttr("awsUserInfoSigned",t)},this.setService=function(t){o.addCommonPayloadAttr("service",t)},this.setBrowserCookies=function(t){o.addCommonPayloadAttr("browserCookies",t)},this.setDomain=function(){var t,e=window.location.hostname,n=fa.DOMAINS,a=n.NONPROD,r=n.PROD;switch(!0){case a.test(e):t="NonProd";break;case-1!==e.indexOf(r):t="Prod";break;default:t="NonProd";}return o.addCommonPayloadAttr("domain",t),t},this.setScreenResolution=function(t){if(t&&t.split("x").length>1){var e=t.split("x"),n=e[0],a=e[1];o.addCommonPayloadAttr("deviceResolutionWidth",n),o.addCommonPayloadAttr("deviceResolutionHeight",a)}},this.setViewport=function(t,e){o.addCommonPayloadAttr("browserViewPortWidth",t),o.addCommonPayloadAttr("browserViewPortHeight",e)},this.setColorDepth=function(t){o.addCommonPayloadAttr("browserColorDepth",t)},this.setTimezone=function(t){o.addCommonPayloadAttr("deviceTimeZone",t)},this.setLang=function(t){o.addCommonPayloadAttr("browserLanguage",t)}}}();Vc=Wc;var na={},Yc=na&&na.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function a(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}}(),Zc=!0;na.__esModule=Zc;var Pa=void 0;na.TrackerCore=Pa;var _c=function(e){function r(r){var t=e.call(this)||this;return t.removeEmptyProperties=function(e,r){var t={};for(var a in r=r||{},e)(r[a]||null!==e[a]&&void 0!==e[a])&&(t[a]=e[a]);return t},t.track=function(e){var r=e;return r.callback=t.callback,r.commonPayloadAttr=t.commonPayloadAttr,r.commonBatchAttr=t.commonBatchAttr,r.commonPayloadHeader=t.commonPayloadHeader,da("onCapture",r),Ac(r)},t.trackSelfDescribingEvent=function(e){var r=new aa(t.base64);return r.request.eventType="ue",t.track({payload:r,tstamp:e.tstamp})},t.setBase64Encoding=function(e){t.base64=e},t.trackCustomEvent=function(e){return Tc(e,t.base64,t.track)},t.trackPanoramaClickEvent=function(e){return Rc(e,t.base64,t.track)},t.trackPanoramaScrollEvent=function(e){return Pc(e,t.base64,t.track)},t.trackPageView=function(e){return Nc(e,t.base64,t.track)},t.trackLinkClick=function(e){var r={data:t.removeEmptyProperties({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})};return t.trackSelfDescribingEvent({properties:r,context:e.context,tstamp:e.tstamp})},t.trackFormChange=function(e){return t.trackSelfDescribingEvent({properties:{data:t.removeEmptyProperties({formId:e.formId,elementId:e.elementId,nodeName:e.nodeName,type:e.type,elementClasses:e.elementClasses,value:e.value},{value:!0})},context:e.context,tstamp:e.tstamp})},t.trackFormSubmission=function(e){return t.trackSelfDescribingEvent({properties:{data:t.removeEmptyProperties({formId:e.formId,formClasses:e.formClasses,elements:e.elements})},context:e.context,tstamp:e.tstamp})},void 0===r.base64&&(t.base64=!0),t.callback=r.callback,t}return Yc(r,e),r}(Vc);Pa=_c,na.TrackerCore=Pa;var x={},bd=!0;x.__esModule=bd;var Hb=(Ab=void 0,Ja=x.hasSessionStorage=Ab,Ia=x.hasLocalStorage=Ja,Ga=x.localStorageAccessible=Ia,qb=x.hasCookies=Ga,pb=x.detectTimezone=qb,nb=x.detectViewport=pb,x.detectDocumentSize=nb);x.detectBrowserFeatures=Hb;var _=window,R=navigator,La=screen,va=document,Ab=function(){try{return!!_.sessionStorage}catch(e){return!0}};x.hasSessionStorage=Ab;var Ja=function(){try{return!!_.localStorage}catch(e){return!0}};x.hasLocalStorage=Ja;var Ia=function(){var e="modernizr";if(!Ja())return!1;try{return _.localStorage.setItem(e,e),_.localStorage.removeItem(e),!0}catch($){return!1}};x.localStorageAccessible=Ia;var Ga=function(e){var $=e||"testcookie";return ic(R.cookieEnabled)?(ea.cookie($,"1"),"1"===ea.cookie($)?"1":"0"):R.cookieEnabled?"1":"0"};x.hasCookies=Ga;var qb=function(){return new Date().getTimezoneOffset()};x.detectTimezone=qb;var pb=function(){var e=_,$="inner";"innerWidth"in _||($="client",e=va.documentElement||va.body);var t=e[$+"Width"],s=e[$+"Height"];return t>=0&&s>=0?t+"x"+s:null};x.detectViewport=pb;var nb=function(){var e=va.documentElement,$=va.body,t=$?Math.max($.offsetHeight,$.scrollHeight):0;if(null===e)return"";var s=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),o=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,t);return isNaN(s)||isNaN(o)?"":s+"x"+o};x.detectDocumentSize=nb,Hb=function(e,$){var t,s,o={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},r={};if(R.mimeTypes&&R.mimeTypes.length)for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(s=R.mimeTypes[o[t]],r[t]=s&&s.enabledPlugin?"1":"0");return R.constructor===window.Navigator&&"unknown"!=typeof R.javaEnabled&&!ic(R.javaEnabled)&&R.javaEnabled()&&(r.java="1"),db(_.GearsFactory)&&(r.gears="1"),r.res=La.width+"x"+La.height,r.cd=La.colorDepth,e&&(r.cookie=Ga($)),r},x.detectBrowserFeatures=Hb;var lb=void 0;lb=function($){return[$.hostName,$.href,$.referrer]};var Ha={},qd=!0;function rd(e){for(var r=0,$=0;$<e.length;$++){var t=e.charCodeAt($);t<=127?r+=1:t<=2047?r+=2:t>=55296&&t<=57343?(r+=4,$++):r+=t<65535?3:4}return r}Ha.__esModule=qd;var sd=rd;Ha.default=sd;var ka={},ud=ka&&ka.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},vd=!0;ka.__esModule=vd;var wd=ud(Ha);function xd(t){for(var e in t)if(t.hasOwnProperty(e)){var $=t[e];t[e]=$&&"operationalData"!==e?$.toString():$&&"operationalData"===e?$:""}return{evt:t,bytes:wd.default(JSON.stringify(t))}}var yd=xd;ka.default=yd;var Q=void 0;Q=function(e){for(var t=[],u=1;u<arguments.length;u++)t[u-1]=arguments[u];if(0===t.length)return!1;for(var $=0;$<t.length;$++){if(!e||!Object.prototype.hasOwnProperty.call(e,t[$]))return!1;e=e[t[$]]}return!0};var ia={};function Bd(e){return(Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Cd=ia&&ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Dd=!0;ia.__esModule=Dd;var Ka=void 0;ia.OutQueueManager=Ka;var Fd=Cd(ka),Gd=function(){function e(e){var t=this;if(this.sanitizer=void 0,this.currentBatches={},this.numRetries=0,this.executingQueue=!1,this.outQueue=[],this.pageLoaded=!1,this.triggerExecution=function(){t.executeQueue()},this.getQueueName=function(){return["panorama_outqueue",t.service,t.region].join("_")},e&&Object.assign(this,e),this.batchingTime=e.batchingTime?e.batchingTime:5e3,this.waitTime=this.batchingTime,this.localStorageAvailable=Ia(),this.bufferSize=this.localStorageAvailable&&this.bufferSize||1,this.queueName=this.getQueueName(),this.useLocalStorage)try{this.outQueue=JSON.parse(localStorage.getItem(this.queueName+"_"+this.mutSnowplowState.pageViewId))}catch(r){}qa(this.outQueue)||(this.outQueue=[]),this.mutSnowplowState.outQueues.push(this.outQueue),this.bufferSize>1&&this.mutSnowplowState.bufferFlushers.push(function(){t.executeQueue({bypassInterval:!0})}),setInterval(function(){t.triggerExecution()},this.batchingTime)}return e.prototype.updateCommonBatchAttr=function(e){this.commonBatchAttr=e},e.prototype.chooseHowManyToExecute=function(e){for(var t=0,r=0;t<e.length&&!((r+=e[t].bytes)>=this.maxPostBytes);)t+=1;return t},e.prototype.initializeXMLHttpRequest=function(e,t){var r=new XMLHttpRequest;if(r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t)for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];r.setRequestHeader(o,t[o])}return r},e.prototype.encloseInPayloadDataEnvelope=function(e,t,r,i){var a=i||this.service||(t&&t.consoleService?t.consoleService:""),o=r||this.region;if(this.commonPayloadAttr.service=a,this.commonPayloadAttr.consoleRegion=o,void 0===i)for(var s=0;s<e.length;s++)if(this.pageLoaded||(e[s]=Object.assign(e[s],this.commonPayloadAttr)),this.sanitizer)try{e[s]=this.sanitizer(e[s])}catch(n){U(n)}this.pageLoaded||(this.pageLoaded=!0);var u={consoleRegion:o,consoleService:a,awsUserInfo:t?t.awsUserInfo:"",awsUserInfoSigned:t?t.awsUserInfoSigned:"",batchRequestId:fb.v4(),batchRequest:e};return JSON.stringify(u)},e.prototype.setBlockOutqueue=function(e){this.blockOutqueue=e},e.prototype.enqueueRequest=function(e,t,r,i){this.configCollectorUrl=i+this.urlPath,this.updateCommonBatchAttr(t);var a=Fd.default(e);if(a.bytes>=this.maxSinglePostBytes){if(this.blockOutqueue)return;return U("Event of size "+a.bytes+" is too long - the maximum size is "+this.maxSinglePostBytes),void this.initializeXMLHttpRequest(this.configCollectorUrl,r).send(this.encloseInPayloadDataEnvelope([a.evt],t))}this.commonHeader=r,this.outQueue.push(a),da("onQueued",a);var o=!1;this.useLocalStorage&&(o=Y(this.queueName+"_"+this.mutSnowplowState.pageViewId,JSON.stringify(this.outQueue))),this.executingQueue||o&&!(this.outQueue.length>=this.bufferSize)||this.executeQueue()},e.prototype.executeQueue=function(e){var t=this;if(!this.blockOutqueue){var r=function(e,t){};Q(window,"AWSC","Clog","system","prequeue")&&"function"==typeof window.AWSC.Clog.system.prequeue&&(r=window.AWSC.Clog.system.prequeue);var i=e&&e.targetQueue?e.targetQueue:this.outQueue,a=e&&e.collectorUrl?e.collectorUrl:this.configCollectorUrl,o=e&&e.queueName?e.queueName:this.queueName,s=!(!e||!e.bypassInterval)&&e.bypassInterval;if(!(this.lastExecuted&&Date.now()-this.lastExecuted<this.waitTime)||s){if(s){var u=this.core;Q(window,"panorama","q","trackerDictionary","cf","plugins","getPlugin")&&"function"==typeof window.panorama.q.trackerDictionary.cf.plugins.getPlugin&&window.panorama.q.trackerDictionary.cf.plugins.getPlugin("ClogPlugin").emitBufferedEvents(u)}for(;i.length&&"string"!=typeof i[0]&&"object"!==Bd(i[0]);)i.shift();if(i.length<1)this.executingQueue=!1;else{if(!$b(a))throw"No Snowplow collector configured, cannot track";this.executingQueue=!0;var n,c=this.initializeXMLHttpRequest(a,this.commonHeader),l=setTimeout(function(){c.abort(),t.executingQueue=!1,r("panoRoutingTimeoutExceeded",1)},2e4);if(c.onreadystatechange=function(){if(4===c.readyState&&c.status>=200&&c.status<400){r({key:"panoRoutingSuccessLatency",value:Date.now()-n,unit:"ms"}),clearTimeout(l),t.waitTime=t.batchingTime;var e=t.currentBatches[o];e&&(t.trackerStats.sentEvents+=e.length),t.currentBatches[o]=void 0}else 4===c.readyState&&(c.status>=400||0===c.status)&&(r({key:"panoRoutingFailureLatency",value:Date.now()-n,unit:"ms"}),t.numRetries++,t.trackerStats&&t.trackerStats.retries++,t.numRetries>t.max_retries&&t.currentBatches[o]&&(t.numRetries=0,t.trackerStats&&(t.trackerStats.droppedEvents+=t.currentBatches[o].length,t.currentBatches[o].forEach(function(e){var r=e.eventSource,i=e.eventName,a=e.eventType,o=r+".";o+="clog"===r?i:a,t.trackerStats.droppedEventsDetails[o]?t.trackerStats.droppedEventsDetails[o]++:t.trackerStats.droppedEventsDetails[o]=1})),da("onDiscard",t.currentBatches[o]),t.currentBatches[o]=void 0),clearTimeout(l),t.executingQueue=!1,t.waitTime<6e4&&(t.waitTime=2*t.waitTime));4===c.readyState&&da("afterSend",c.status)},!this.currentBatches[o]){var h=this.chooseHowManyToExecute(i);this.currentBatches[o]=i.splice(0,h).map(function(e){return e.evt}),this.useLocalStorage&&Y(o+"_"+this.mutSnowplowState.pageViewId,JSON.stringify(i))}if(this.currentBatches[o].length>0){var $=this.encloseInPayloadDataEnvelope(this.currentBatches[o],this.commonBatchAttr,e?e.region:void 0,e?e.service:void 0);da("beforeSend",$),n=Date.now(),c.send($),s&&localStorage.removeItem(this.queueName+"_"+this.mutSnowplowState.pageViewId)}}}}},e.prototype.setSanitizerFunction=function(e){this.sanitizer=e},e}();Ka=Gd,ia.OutQueueManager=Ka;var _b=void 0;function Id(e,$,n){void 0===n&&(n=!0);var o=null;return function(){var r=this,t=arguments,u=n&&!o,d=function(){e.apply(r,t)};o&&clearTimeout(o),o=setTimeout(d,$),u&&d()}}_b=Id;var Ma={},Kd=!0;function Ld($,e){var r;return e?(r=new RegExp("#.*"),$.replace(r,"")):$}Ma.__esModule=Kd;var Md=Ld;Ma.default=Md;function Nd(){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(o,$){$=$||window;for(var t=0;t<this.length;t++)o.call($,this[t],t,this)})}Nd();var I={},Pd=I&&I.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),Qd=I&&I.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rd=I&&I.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.hasOwnProperty.call(e,o)&&Pd(t,e,o);return Qd(t,e),t},Sd=!0;I.__esModule=Sd;var Wb=Rd(ea),Ud=function(){return function(){var e=this;this.storageStrategy="cookie",this.cookiePath="/",this.cookieDomain=null,this.setCookie=function(t,o,r){"localStorage"===e.storageStrategy?Y(t,o):"cookie"!==e.storageStrategy&&"cookieAndLocalStorage"!==e.storageStrategy||Wb.cookie(t,o,r,e.cookiePath,e.cookieDomain)},this.getCookie=function(t){return"localStorage"===e.storageStrategy?Ua(t):"cookie"===e.storageStrategy||"cookieAndLocalStorage"===e.storageStrategy?Wb.cookie(t):void 0}}}(),Vd=Ud;I.default=Vd;var ba=void 0;function Xd(t){var e=document.getElementsByTagName("*"),a=[],o=[],i={};for(a=[];t&&1==t.nodeType;t=t.parentNode){if(t.hasAttribute("data-analytics")){var n=t.getAttribute("data-analytics-type")?t.getAttribute("data-analytics-type"):"tag",r=t.getAttribute("data-analytics");o.unshift(n+"("+r+")"),n&&(i[n]=r)}if(t.hasAttribute("id")){for(var l=0,s=0;s<e.length&&(e[s].hasAttribute("id")&&e[s].id==t.id&&l++,!(l>1));s++);var $=t.getAttribute("id");if(1==l){if(a.unshift("id(\""+$+"\")"),"c"===$)break}else a.unshift(t.localName.toLowerCase()+"[@id=\""+$+"\"]")}else if(t.hasAttribute("class"))a.unshift(t.localName.toLowerCase()+"[@class=\""+t.getAttribute("class")+"\"]");else{var h=void 0,f=t.previousSibling;for(h=1;f;f=f.previousSibling)f.localName==t.localName&&h++;var u=h>1?"["+(h-1)+"]":"";a.unshift(t.localName.toLowerCase()+u)}}return{xpath:a.length?"/"+a.join("/"):"",analyticsPath:o.length>0?"/"+o.join("/"):"",analyticsData:i}}ba=Xd;var Yd=function(){function t(t){this.EventBuckets={},this.EventFilled={},this.ThrottledEvents={},this.NumberOfThrottledEvents=0,this.capacity=t.capacity,this.totalCapacity=t.totalCapacity,this.totalBucketSize=t.totalCapacity,this.fillPerSecond=t.fillPerSecond}return t.prototype.refillTotalBucket=function(){var t=Math.floor(Date.now()/1e3);this.totalLastFilled=void 0===this.totalLastFilled?t:this.totalLastFilled;var e=t-this.totalLastFilled;this.totalBucketSize=Math.min(this.totalCapacity,this.totalBucketSize+Math.floor(e*this.fillPerSecond)),this.totalLastFilled=t},t.prototype.refill=function(t){var e,i=Math.floor(Date.now()/1e3);void 0===this.EventFilled[t]?(this.EventFilled[t]=i,e=i):e=this.EventFilled[t];var l=i-e;this.EventBuckets[t]=Math.min(this.capacity,this.EventBuckets[t]+Math.floor(l*this.fillPerSecond)),this.EventFilled[t]=i},t.prototype.take=function(t){return void 0===this.EventBuckets[t]?this.EventBuckets[t]=this.capacity:this.refill(t),this.refillTotalBucket(),this.EventBuckets[t]>0&&this.totalBucketSize>0?(this.EventBuckets[t]-=1,this.totalBucketSize-=1,!0):(this.ThrottledEvents[t]=void 0!==this.ThrottledEvents[t]?this.ThrottledEvents[t]+1:1,this.NumberOfThrottledEvents++,!1)},t}(),Zd=Yd;var $d=void 0;var _d=function(){function t(t){var n=this;this.pluginStore={},this.listPlugins=function(){var t={};return Object.keys(n.pluginStore).forEach(function(e,i){t[n.pluginStore[e].name]=n.pluginStore[e].plugin}),t},this.getPlugin=function(t){return n.listPlugins()[t]},Object.assign(this,t)}return t.prototype.addPlugins=function(t){for(var n=0;n<t.length;n++){var e=t[n];this.addPlugin(e)}},t.prototype.addPlugin=function(t){var n=ja(t.setup.toString());this.pluginStore[n]={name:t.name,plugin:t,enabled:!1,fingerprint:n}},t.prototype.removePlugin=function(t){var n=ja(t.setup.toString());delete this.pluginStore[n]},t.prototype.enablePlugin=function(t){t.setup();var n=ja(t.setup.toString());this.pluginStore[n].enabled=!0},t.prototype.disablePlugin=function(t){t.teardown();var n=ja(t.setup.toString());this.pluginStore[n].enabled=!1},t.prototype.attachTracker=function(t){for(var n in this.pluginStore)if(this.pluginStore.hasOwnProperty(n)){var e=this.pluginStore[n];this.enablePlugin(e.plugin)}},t}();$d=_d;var K={},be=K&&K.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),ce=K&&K.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),de=K&&K.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&be(t,e,r);return ce(t,e),t},ee=!0;K.__esModule=ee;var Na=void 0;K.WhitelistPlugin=Na;var Kb=de(ea),Db="PANORAMA_WHITELIST_COOKIE",ie=300,je=function(){function e(e){this.name="WhitelistPlugin",this.enabled=!1,Object.assign(this,e)}return e.prototype.getName=function(){return this.name},e.prototype.setup=function(){var e=this.tracker;if(e.whitelist){e.outQueueManager.blockOutqueue=!0;var t="us-east-1",r=3,i=Kb.cookie(Db),h=e.region,$=e.service,o=e.modality;if(h&&$&&o){var a,n;i?(a=i,n=JSON.parse(a),n.isWhitelisted&&(e.outQueueManager.blockOutqueue=!1)):function e(){var i=new XMLHttpRequest,a="https://"+t+".prod.pw.analytics.console.aws.a2z.com/panoramawhitelist?modality="+o+"&identifier="+$+"&region="+h;i.open("GET",a),i.onreadystatechange=function(){4===i.readyState&&(0===i.status?r&&(r--,e()):Kb.cookie(Db,i.response,ie))},i.timeout=1e3,i.send()}(),this.enabled=!0}}},e.prototype.teardown=function(){this.enabled=!1},e}();Na=je,K.WhitelistPlugin=Na;var ke=void 0;var le=5e3,me=fa.CLOG_METRICS_TO_IGNORE,ne=function(){function e(e){this.name="ClogPlugin",this.enabled=!1,Object.assign(this,e)}return e.prototype.getName=function(){return this.name},e.prototype.setup=function(){var e=this,t=this.tracker,n=window;this.enabled=!0,n.setInterval(function(){return e.emitBufferedEvents(t)},le)},e.prototype.teardown=function(){this.enabled=!1},e.prototype.emitBufferedEvents=function(e){var t=e,n=window,r=[];if(n.AWSC&&n.AWSC.Clog&&n.AWSC.Clog.bufferedQueue&&n.AWSC.Clog.bufferedQueue.length>0){r=n.AWSC.Clog.bufferedQueue,n.AWSC.Clog.bufferedQueue=[];for(var o=0;o<r.length;o++){var a=r[o].metric,i=r[o].ts;me.indexOf(a.key)>=0||(t.trackCustomEvent({eventSource:"clog",eventName:a.key,eventContext:JSON.stringify({pageId:a.pageId,unit:a.unit,metricType:a.metricType,logLevel:a.logLevel}),eventDetail:a.detail||"",eventValue:"0"==a.value?"0":a.value,timestamp:i}),this.pushToPolaroid({clogMetric:a,timeNow:i,trackerInstance:t}))}r=[]}},e.prototype.pushToPolaroid=function(e){var t=e.clogMetric,n=e.timeNow,r=e.trackerInstance;r.argmap&&r.argmap.enablePolaroid&&!isNaN(t.value)&&r.trackCustomEvent({eventType:bb,eventName:Za,eventSource:Xa,eventContext:"clog",eventDetail:t.detail||"",eventValue:"0"==t.value?"0":t.value,timestamp:n,operationalData:{metricList:[{metricName:t.key,metricValue:Number(t.value),metricUnit:t.unit?t.unit:""}]}})},e}();ke=ne;var oe=void 0;var pe=function(){function t(t){this.name="StacktracePlugin",this.enabled=!1,Object.assign(this,t)}return t.prototype.getName=function(){return this.name},t.prototype.setup=function(){var t=this.tracker,r=this.enabled,e=window;this.oldOnError=e.onerror;var a=this.oldOnError;e.onerror=function(e,o,n,i,$){a&&a.apply(this,arguments),r&&t.emitStackTrace(e,o,n,i,$)},this.enabled=!0},t.prototype.teardown=function(){window.onerror=this.oldOnError,this.enabled=!1},t}();oe=pe;var qe=void 0;var re=function(){function e(e){var r=this;this.name="PerformancePlugin",this.enabled=!1,this.logPerformance=function(){var e=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;r.tracker.trackCustomEvent({eventSource:"panorama",eventType:"performance",eventContext:"pageLoad",eventDetail:JSON.stringify({loadTime:e,rawPerformance:window.performance}),eventValue:e,timestamp:Date.now()})},this.logPerformanceDetail=function(e,n){n>r.MAX_MEASURE_TIME||r.tracker.trackCustomEvent({eventSource:"panorama",eventType:"performanceDetail."+e.entryType,eventContext:e.name,eventDetail:JSON.stringify(e),eventValue:n,timestamp:Date.now()})},Object.assign(this,e)}return e.prototype.getName=function(){return this.name},e.prototype.setup=function(){var e=this;window.performance&&(window.performance.timing&&(0===window.performance.timing.domContentLoadedEventEnd?document.addEventListener("DOMContentLoaded",function(){e.logPerformance()}):this.logPerformance()),window.PerformanceObserver&&this.DETAILED_PERFORMANCE_METRICS&&new PerformanceObserver(function(r){r.getEntries().forEach(function(r){switch(r.entryType){case"paint":"first-paint"!==r.name&&"first-contentful-paint"!==r.name||e.logPerformanceDetail(r,r.startTime);break;case"longtask":e.logPerformanceDetail(r,r.duration);break;case"first-input":var n=r.processingStart-r.startTime;n>e.FID_THRESHOLD&&e.logPerformanceDetail(r,n);break;case"frame":r.duration>e.FRAME_THRESHOLD&&e.logPerformanceDetail(r,r.duration);break;case"resource":r.duration>e.RESOURCE_THRESHOLD&&e.logPerformanceDetail(r,r.duration);}})}).observe({entryTypes:["paint","frame","longtask","resource","first-input"],buffered:!0}))},e.prototype.teardown=function(){this.enabled=!1},e}();qe=re;var se=void 0;var Bb="[data-analytics-render]:not([data-analytics-processed])",ue=function(){function e(e){var t=this;this.name="ContextPlugin",this.enabled=!1,this.handleMutation=function(){if(null!==document.querySelector(Bb))for(var e=document.querySelectorAll(Bb),o=0;o<e.length;o++){var n=e[o];n.setAttribute("data-analytics-processed","true");var r=ba(n),a={eventSource:G,eventType:"render",eventPath:r.analyticsPath,contentId:r.xpath,eventValue:"1",eventDetail:"",timestamp:Date.now()};Object.assign(a,r.analyticsData),t.tracker.trackCustomEvent(a)}},Object.assign(this,e)}return e.prototype.getName=function(){return this.name},e.prototype.setup=function(){if(window.MutationObserver){this.observer=new MutationObserver(_b(this.handleMutation,1e3)),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),this.enabled=!0}},e.prototype.teardown=function(){this.observer.disconnect(),this.enabled=!1},e}();se=ue;var ub=void 0;var we=3,xe=1e3;ub=function(r,e){void 0===e.retries&&(e.retries=we),void 0===e.waitTime&&(e.waitTime=xe);var a=!1,$=0,o=0,t=function(){if(r())return e.onTrue&&(e.onTrue(),a=!0),void(o&&window.clearInterval(o));e.onFalse&&e.onFalse(),$++,e.retries&&$>e.retries&&o&&window.clearInterval(o)};t(),a||(o=window.setInterval(t,e.waitTime))};var ye=(ze=void 0);var ze=function(e){return e.console?e.console:!!Q(window,"ConsoleNavService","Model","currentService")};ye=function(e){e||(e=window.location.href);var o=e.match(/([a-z]+-)+\d{1}/gi);return o?o[0]:"us-east-1"};var Ae=void 0;var Be=function(){function e(e){var r=this;this.name="ConsoleParametersPlugin",this.enabled=!1,this.getRegionServiceFromUrl=function(){var e="",r=window.location.href,t=Cc.exec(r),o=ye(r);return o&&(e=o),{region:e,service:t&&t[2]?t[2]:""}},this.getRegionAndService=function(){var e,t,o;ze(r.tracker.argmap)?ub(function(){return window.ConsoleNavService},{retries:10,onTrue:function(){e=window.ConsoleNavService.Model.currentRegionId,t=window.ConsoleNavService.Model.currentService.id,r.tracker.updateRegionAndService({region:e,service:t})},onFalse:function(){o=r.getRegionServiceFromUrl(),r.tracker.updateRegionAndService({region:o.region,service:o.service})}}):(o=r.getRegionServiceFromUrl(),t=Q(r.tracker,"argmap","service")?r.tracker.argmap.service:o.service,e=Q(r.tracker,"argmap","region")?r.tracker.argmap.region:o.region,r.tracker.updateRegionAndService({region:e,service:t}))},Object.assign(this,e)}return e.prototype.getName=function(){return this.name},e.prototype.setup=function(){this.getRegionAndService(),this.enabled=!0},e.prototype.teardown=function(){this.enabled=!1},e}();Ae=Be;var Ce=void 0;var De=function(){function e(){if(this.sbInstance=this.getGlobalShortbreadInstance(),this.sbInstance&&this.sbInstance.getConsentCookie&&"function"==typeof this.sbInstance.getConsentCookie){var e=this.sbInstance.getConsentCookie();if(e&&void 0!==e.performance&&"boolean"==typeof e.performance)return void(this.isPerformanceAllowed=e.performance)}this.isPerformanceAllowed=!0}return e.prototype.updateIsAllowed=function(e){null!=e&&(this.isPerformanceAllowed=e)},e.prototype.getGlobalShortbreadInstance=function(){var e=this,o={domain:".aws.amazon.com",hasConsoleNavFooter:!0,onConsentChanged:function(o){e.updateIsAllowed(o.performance),Q(window,"AWSC","Clog","log")&&(!1===e.isPerformanceAllowed&&window.AWSC.Clog.log({key:"userUncheckPerformanceCookie",value:1}),!0===e.isPerformanceAllowed&&window.AWSC.Clog.log({key:"userCheckPerformanceCookie",value:1}))}};if(!(window.AWSC&&window.AWSC.Shortbread&&window.AWSC.Shortbread.getShortbreadInstance&&"function"==typeof window.AWSC.Shortbread.getShortbreadInstance))return null;var r=window.AWSC.Shortbread.getShortbreadInstance(o);return 0!==Object.keys(r).length?r:void 0},e}();Ce=De;var C={},Ra=C&&C.__assign||function(){return(Ra=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ge=C&&C.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),He=C&&C.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ac=C&&C.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&Ge(t,e,i);return He(t,e),t},rb=C&&C.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<i;t++)for(var o=arguments[t],n=0,s=o.length;n<s;n++,a++)r[a]=o[n];return r},ib=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Le=!0;C.__esModule=Le;var ab=void 0;C.Tracker=ab;var Ba=ac(ea),eb=ac(x);var la=ib(Ma),Qe=ib(I),Re=function(){function e(e){var t,i=this;this.lastNavEventTime=Date.now(),this.trackMouseMoves=!1,this.trackerStats={capturedEvents:0,sentEvents:0,retries:0,retriesDetails:{},droppedEvents:0,droppedEventsDetails:{},throttledEvents:0,throttledEventsDetails:{},truncatedEvents:0,truncatedEventsDetails:{},userDisallowedPanoramaEvents:0,numClogCaptured:0,numClogThrottled:0,numClogSeen:0},this.whitelist=!1,this.moveArray=[],this.location=window.location.pathname+(window.location.hash||""),this.iframeEventListeners={},this.listeners=[],this.updateRegionAndService=function(e){void 0!==e.region&&(i.region=e.region,i.core.setAWSRegion(e.region)),void 0!==e.service&&(i.service=e.service,i.core.setService(e.service),i.core.addCommonBatchAttr("consoleService",e.service))},this.setFac=function(){ub(function(){return null!==document.getElementById("meta-features-json")},{onTrue:function(){var e=document.getElementById("meta-features-json");null!==e&&i.core.addCommonPayloadAttr("facConfig",e.getAttribute("data-featuresjson")||"")}})},this.getSnowplowCookieName=function(e){return i.configCookieNamePrefix+e+"."+i.domainHash},this.mouseHandler=function(e){var t=new Date().getTime();t-i.lastMouseMoveTime>250&&(Math.abs(e.clientX-i.lastMouseX)>50||Math.abs(e.clientY-i.lastMouseY)>50)&&(i.moveArray.push({x:e.clientX,y:e.clientY,timestamp:t}),i.lastMouseX=e.clientX,i.lastMouseY=e.clientY),i.lastMouseX||(i.lastMouseX=e.clientX),i.lastMouseY||(i.lastMouseY=e.clientY),i.lastMouseMoveTime=t},this.hoverHandler=function(e){var t,r=new Date().getTime();i.hoverEnterTime&&(t=r-i.hoverEnterTime),"mouseover"===e.type?i.hoverEnterTime=r:"mouseout"===e.type&&t&&t>3e3&&"HTML"!==e.target.tagName&&i.logHoverEvent(t,e.target),i.hoverEnterTime=r},this.mousedownHandler=function(e){i.elementInfoTarget=e.target,i.elementInfo=ba(e.target)},this.clickHandler=function(e){var t,r={contentId:(t=e.target===i.elementInfoTarget?i.elementInfo:ba(e.target)).xpath,eventPath:t.analyticsPath,mouseLocation:e.clientX+","+e.clientY,pageTitle:i.documentAlias.title};Object.assign(r,t.analyticsData),i.core.trackPanoramaClickEvent(r)},this.locationHandler=function(e){var t=window.location.pathname+(window.location.hash||"");if(i.location!==t){var r=Date.now(),a=i.location;setTimeout(function(){i.core.trackCustomEvent({eventSource:G,eventType:"locationChange",eventContext:a,eventDetail:t,eventValue:r-i.lastNavEventTime,pageTitle:i.documentAlias.title}),i.core.trackCustomEvent({eventSource:G,eventType:Va,eventContext:i.location,eventDetail:t,pageTitle:i.documentAlias.title})},1e3),i.lastNavEventTime=Date.now(),i.location=t,i.trackMouseMoves&&(i.core.trackCustomEvent({eventSource:G,eventType:"mouseMoves",eventContext:i.location,eventDetail:JSON.stringify(i.moveArray),pageTitle:i.documentAlias.title}),i.moveArray=[])}},this.formElementHandler=function(e){var t=ba(e.target);i.core.trackCustomEvent(Object.assign({eventSource:G,eventName:e.type,contentId:t.xpath,eventPath:t.analyticsPath?t.analyticsPath:void 0,pageTitle:i.documentAlias.title},t.analyticsData))},this.scrollHandler=function(e){var t=ba(e.target),r="";e.target==document?r=i.documentAlias.title:t.xpath&&(r=t.xpath),i.core.trackPanoramaScrollEvent(Object.assign({contentId:r,eventPath:t.analyticsPath?t.analyticsPath:void 0,eventValue:String(window.scrollY?window.scrollY:window.pageYOffset),pageTitle:i.documentAlias.title},t.analyticsData))},this.logPageView=function(e,t){i.refreshUrl(),i.lastDocumentTitle=i.documentAlias.title,i.lastConfigTitle=e;var r=Ya(i.lastConfigTitle||i.lastDocumentTitle),a=window[i.functionName],o={pageUrlPath:la.default(i.locationHrefAlias,i.configDiscardHashTag),pageTitle:r,referrer:la.default(i.customReferrer||i.configReferrerUrl,i.configDiscardHashTag),timestamp:t};a&&a.loadTime&&(o.eventValue=Date.now()-a.loadTime),i.core.trackPageView(o);var n=window.location.pathname+(window.location.hash||""),s=Ra(Ra({},o),{eventSource:G,eventType:Va,eventContext:i.location||"",eventDetail:n});i.core.trackCustomEvent(s)},this.setupListeners=function(e,t){for(var r=0;r<i.listeners.length;r++){var a=i.listeners[r],o=a.defaultTarget,n=a.eventType,s=a.callback;if(e){var c=e.id;t&&-1!==t.indexOf(n)?(F(e.contentWindow,n,s),i.iframeEventListeners[c]?i.iframeEventListeners[c]=rb(i.iframeEventListeners[c],[n]):i.iframeEventListeners[c]=[n]):t||(F(e.contentWindow,n,s),i.iframeEventListeners[c]?i.iframeEventListeners[c]=rb(i.iframeEventListeners[c],[n]):i.iframeEventListeners[c]=[n])}else F(o,n,s)}e?window.onpopstate?F(e.contentWindow,"popstate",i.locationHandler):F(e.contentWindow,"hashchange",i.locationHandler):window.onpopstate?F(i.windowAlias,"popstate",i.locationHandler):F(i.windowAlias,"hashchange",i.locationHandler)},this.logHoverEvent=function(e,t){var r=e<1e4?Tb:Ub,a=ba(t);i.core.trackCustomEvent(Object.assign({eventSource:G,eventType:r,contentId:a.xpath?a.xpath:void 0,eventPath:a.analyticsPath?a.analyticsPath:void 0,mouseLocation:i.lastMouseX+","+i.lastMouseY,pageTitle:i.documentAlias.title,eventValue:String(e/1e3)},a.analyticsData))},this.emitStackTrace=function(e,t,r,a,o){var n=null;o&&o.stack?n=o.stack:console.trace&&(n=console.trace()),i.trackCustomEvent({eventSource:"error",eventType:"stacktrace",eventContext:e?e.toString():"",eventDetail:JSON.stringify({fileno:r,columnNumber:a,error:o,stacktrace:n}),eventValue:"1",timestamp:Date.now()})},this.setOptOutCookie=function(e){i.configOptOutCookie=e},this.setBuildId=function(e){i.core.addCommonPayloadAttr("buildId",e)},this.updateCommonAttribute=function(e,t,r){"service"===e||"region"===t?r&&i.core.addCommonPayloadAttr(e,t):i.core.addCommonPayloadAttr(e,t)},this.setCollectorUrl=function(e){i.configCollectorUrl=i.asCollectorUrl(e)},this.getTrackerStats=function(){var e=Object.assign({},i.trackerStats);return e.throttledEvents=i.EventThrottler.NumberOfThrottledEvents,e.throttledEventsDetails=i.EventThrottler.ThrottledEvents,e},e&&Object.assign(this,e),this.trackerConstants=Object.assign(fa,this.argmap.trackerConstants||{}),this.setupLocals();var r=new se({tracker:this}),a=new Na({tracker:this}),o=new ke({tracker:this}),n=new oe({tracker:this}),s=new qe(Ra({tracker:this},this.trackerConstants.PERFORMANCE_PLUGIN_PARAMETERS));if([o,n,s,a,r].forEach(function(e){i.plugins.addPlugin(e),i.trackerConstants.pluginsEnabledByDefault&&i.plugins.enablePlugin(e)}),this.configuredPlugins){var c,l=this.plugins.listPlugins();l.ConsoleParametersPlugin&&(c=l.ConsoleParametersPlugin),Object.keys(this.configuredPlugins).forEach(function(e){var t=i.configuredPlugins[e];"consoleParameters"===e&&c&&(t.enabled?i.plugins.enablePlugin(c):i.plugins.disablePlugin(c)),"context"===e&&(t.enabled?i.plugins.enablePlugin(r):i.plugins.disablePlugin(r)),"whitelist"===e&&(t.enabled?i.plugins.enablePlugin(a):i.plugins.disablePlugin(a)),"clog"===e&&(t.enabled?i.plugins.enablePlugin(o):i.plugins.disablePlugin(o)),"stacktrace"===e&&(t.enabled?i.plugins.enablePlugin(n):i.plugins.disablePlugin(n)),"performance"===e&&(t.enabled?i.plugins.enablePlugin(s):i.plugins.disablePlugin(s))})}this.configCookieNamePrefix=this.argmap.hasOwnProperty("cookieName")?this.argmap.cookieName:"_sp_",this.argmap.hasOwnProperty("discoverRootDomain")&&this.argmap.discoverRootDomain&&(this.configCookieDomain=Sa());var u=new Qe.default;u.cookieDomain=this.configCookieDomain,u.cookiePath=this.configCookiePath,u.storageStrategy="cookie";var $={};try{$=u.getCookie("aws-userInfo"),this.core.setAWSUserInfo($)}catch(g){}var h={};try{h=u.getCookie("aws-userInfo-signed"),this.core.setAWSUserInfoSigned(h)}catch(g){}this.core.addCommonPayloadAttr("version",this.version),this.core.addCommonPayloadAttr("tabId",this.mutSnowplowState.pageViewId),Q(this,"argmap","trackerConstants","modality")?this.core.addCommonPayloadAttr("modality",null===(t=this.argmap.trackerConstants)||void 0===t?void 0:t.modality):this.core.addCommonPayloadAttr("modality",this.trackerConstants.modality),document.querySelectorAll("meta[id^='panorama-']").forEach(function(e){var t=e.id.replace("panorama-","");e.hasAttribute("value")&&(i.updateCommonAttribute(t,e.getAttribute("value")||"",!0),"service"===t&&i.core.addCommonBatchAttr("consoleService",e.getAttribute("value")||""))}),this.trackerConstants.CAPTURE_FAC&&this.setFac(),this.core.setBase64Encoding(!this.argmap.hasOwnProperty("encodeBase64")||this.argmap.encodeBase64),this.core.setTimezone(eb.detectTimezone().toString()),this.core.setLang(this.browserLanguage),this.core.setScreenResolution(this.browserFeatures.res),this.core.setColorDepth(String(screen.colorDepth)),this.core.setDomain();var v="";if(this.trackerConstants.COOKIES_TO_CAPTURE.forEach(function(e){v+=e+"="+u.getCookie(e)+";"}),this.core.setBrowserCookies(v),this.argmap.commonAttributes)for(var p in this.argmap.commonAttributes)this.argmap.commonAttributes.hasOwnProperty(p)&&this.updateCommonAttribute(p,this.argmap.commonAttributes[p],!0);this.listeners=[{defaultTarget:this.documentAlias,eventType:"mousedown",callback:this.mousedownHandler},{defaultTarget:this.documentAlias,eventType:"click",callback:this.clickHandler},{defaultTarget:this.windowAlias,eventType:"scroll",callback:this.debouncedScroll},{defaultTarget:this.documentAlias,eventType:"change",callback:this.formElementHandler},{defaultTarget:this.documentAlias,eventType:"mouseout",callback:this.hoverHandler},{defaultTarget:this.documentAlias,eventType:"mouseover",callback:this.hoverHandler},{defaultTarget:this.documentAlias,eventType:"mousemove",callback:this.mouseHandler}],this.setupListeners(),this.trackPageView(),this.argmap.blockOutqueue||this.outQueueManager.setBlockOutqueue(!1)}return e.prototype.setupLocals=function(){var e=this;this.configCookieDomain=this.argmap.hasOwnProperty("cookieDomain")?this.argmap.cookieDomain:null,this.configDoNotTrack=!!this.argmap.hasOwnProperty("respectDoNotTrack")&&this.argmap.respectDoNotTrack&&("yes"===this.dnt||"1"===this.dnt),this.configuredPlugins=void 0!==this.argmap.plugins?this.argmap.plugins:{};var t=this.argmap.throttleConfig||{};this.EventThrottler=new Zd({capacity:t.capacity||120,totalCapacity:t.totalCapacity||600,fillPerSecond:t.fillPerSecond||6}),this.core=new Pa({base64:!0,callback:function(t){e.addBrowserData(t),da("onProcessed",t),e.sendRequest(t,e.configTrackerPause)}}),this.plugins=new $d({tracker:this});var i=new Ae({tracker:this});this.plugins.addPlugin(i),this.isAwsConsole()&&this.trackerConstants.pluginsEnabledByDefault&&this.plugins.enablePlugin(i),this.argmap.hasOwnProperty("service")?this.updateRegionAndService({service:this.argmap.service}):this.service||this.updateRegionAndService({service:""}),this.argmap.hasOwnProperty("region")?this.updateRegionAndService({region:this.argmap.region}):this.region||this.updateRegionAndService({region:"us-east-1"}),this.documentAlias=document,this.windowAlias=window,this.navigatorAlias=navigator,this.locationArray=lb({hostName:this.documentAlias.domain,href:this.windowAlias.location.href,referrer:ha()}),this.domainAlias=wa(this.locationArray[0]),this.locationHrefAlias=this.locationArray[1],this.configReferrerUrl=this.locationArray[2],this.configRequestMethod="GET",this.lastDocumentTitle=this.documentAlias.title,this.configCookiePath="/",this.dnt=this.navigatorAlias.doNotTrack||this.navigatorAlias.msDoNotTrack||this.windowAlias.doNotTrack,this.browserLanguage=this.navigatorAlias.userLanguage||this.navigatorAlias.language,this.browserFeatures=eb.detectBrowserFeatures("cookie"===this.trackerConstants.stateStorageStrategy||"cookieAndLocalStorage"===this.trackerConstants.stateStorageStrategy,this.getSnowplowCookieName("testcookie")),this.debouncedScroll=_b(this.scrollHandler,250),this.hash=ja,this.shortbread=new Ce,this.outQueueManager=new Ka({blockOutqueue:this.argmap.blockOutqueue||!0,bufferSize:this.argmap.bufferSize||1e3,commonPayloadAttr:this.core.commonPayloadAttr,functionName:this.functionName,maxPostBytes:this.argmap.maxPostBytes||6e6,maxSinglePostBytes:this.argmap.maxSinglePostBytes||1e6,max_retries:this.trackerConstants.outqueueRetries,mutSnowplowState:this.mutSnowplowState,namespace:this.namespace,region:this.region,service:this.service,trackerStats:this.trackerStats,urlPath:this.getUrlPath(),useLocalStorage:"localStorage"===this.trackerConstants.stateStorageStrategy||"cookieAndLocalStorage"===this.trackerConstants.stateStorageStrategy,core:this.core})},e.prototype.refreshUrl=function(){this.locationArray=lb({hostName:this.documentAlias.domain,href:this.windowAlias.location.href,referrer:ha()}),this.locationArray[1]!==this.locationHrefAlias&&(this.configReferrerUrl=ha(this.locationHrefAlias)),this.domainAlias=wa(this.locationArray[0]),this.locationHrefAlias=this.locationArray[1]},e.prototype.checkIfOpsMetric=function(e){return fa.CLOG_UNLOAD_OPS_METRICS.indexOf(e)>=0},e.prototype.sendRequest=function(e,t){this.trackerStats.capturedEvents++;var i=new Date,r=!1,a=!!Ba.cookie(this.configOptOutCookie),o=!1,n=!1,s=e.request,c=s.eventSource,l=s.eventName,u=s.eventType,$=c+".";$+="clog"===c?l:u,"clog"===c&&(this.trackerStats.numClogSeen++,r=this.checkIfOpsMetric(l||"")),"panorama"===c&&(this.shortbread.sbInstance&&(n=!this.shortbread.isPerformanceAllowed),n&&this.trackerStats.userDisallowedPanoramaEvents++),"panoramaInternal"===c||r||(this.EventThrottler.take($)?("clog"===c&&this.trackerStats.numClogCaptured++,Object.assign(e.request,this.core.commonPayloadAttr)):("clog"===c&&this.trackerStats.numClogThrottled++,o=!0)),this.configDoNotTrack||a||o||n||(this.outQueueManager.enqueueRequest(e.build(),e.getBatchAttribute(),e.getHeader(),this.configCollectorUrl),this.mutSnowplowState.expireDateTime=i.getTime()+t)},e.prototype.updateDomainHash=function(){this.refreshUrl(),this.domainHash=this.hash((this.configCookieDomain||this.domainAlias)+(this.configCookiePath||"/")).slice(0,4)},e.prototype.addBrowserData=function(e){var t=this.getSnowplowCookieName("id"),i=this.getSnowplowCookieName("ses"),r=!!Ba.cookie(this.configOptOutCookie);if(!this.configDoNotTrack&&!r||"none"===this.trackerConstants.stateStorageStrategy){var a=eb.detectViewport();if(a&&a.split("x").length>1){var o=a.split("x");e.request.browserViewPortWidth=Number(o[0]),e.request.browserViewPortHeight=Number(o[1])}this.refreshUrl(),e.request.referrer=la.default(this.customReferrer||this.configReferrerUrl,this.configDiscardHashTag),e.request.requestUri=la.default(this.locationHrefAlias,this.configDiscardHashTag),e.request.pageUrlPath=la.default(this.locationHrefAlias,this.configDiscardHashTag)}else"localStorage"===this.trackerConstants.stateStorageStrategy?(Y(t,""),Y(i,"")):"cookie"!==this.trackerConstants.stateStorageStrategy&&"cookieAndLocalStorage"!==this.trackerConstants.stateStorageStrategy||(Ba.cookie(t,"",-1,this.configCookiePath,this.configCookieDomain),Ba.cookie(i,"",-1,this.configCookiePath,this.configCookieDomain))},e.prototype.asCollectorUrl=function(e){if(this.trackerConstants.forceSecureTracker)return"https://"+e;if(this.trackerConstants.forceUnsecureTracker)return"http://"+e;var t="https://";return this.documentAlias.location&&(t="https:"===this.documentAlias.location.protocol?"https":"http"),t+"://"+e},e.prototype.teardownListeners=function(e){return this.listeners.forEach(function(t){ga(e.contentWindow,t.eventType,t.callback)}),window.onpopstate?ga(e.contentWindow,"popstate",this.locationHandler):ga(e.contentWindow,"hashchange",this.locationHandler),!0},e.prototype.isAwsConsole=function(){return void 0===this.argmap.console||this.argmap.console},e.prototype.getUrlPath=function(){return void 0===this.argmap.configCollectorUrlPath?"/panoramaroute":this.argmap.configCollectorUrlPath},e.prototype.openOutqueue=function(){this.outQueueManager.setBlockOutqueue(!1)},e.prototype.getCookieName=function(e){return this.getSnowplowCookieName(e)},e.prototype.setReferrerUrl=function(e){this.customReferrer=e},e.prototype.setDocumentTitle=function(e){this.lastDocumentTitle=this.documentAlias.title,this.lastConfigTitle=e},e.prototype.attachEventListener=function(e,t){hc(e,t)},e.prototype.detachEventListener=function(e,t){zc(e,t)},e.prototype.discardHashTag=function(e){this.configDiscardHashTag=e},e.prototype.setCookiePath=function(e){this.configCookiePath=e,this.updateDomainHash()},e.prototype.redirectFile=function(e){"file:"===this.windowAlias.location.protocol&&(this.windowAlias.location=e)},e.prototype.flushBuffer=function(){this.outQueueManager.executeQueue()},e.prototype.trackPageView=function(e,t){this.logPageView(e,t)},e.prototype.trackCustomEvent=function(e){for(var t=this.trackerConstants,i=0;i<t.EVENT_FIELDS_TO_CHECK.length;i++){var r=t.EVENT_FIELDS_TO_CHECK[i];if(e[r]&&e[r].length>t.MAX_FIELD_LENGTH){e[r]=e[r].substring(0,t.MAX_FIELD_LENGTH),this.trackerStats.truncatedEvents++;var a=e.eventSource,o=e.eventName,n=e.eventType,s=a+".";s+="clog"===a?o:n,this.trackerStats.truncatedEventsDetails[s]?this.trackerStats.truncatedEventsDetails[s]++:this.trackerStats.truncatedEventsDetails[s]=1}}this.core.trackCustomEvent(e)},e.prototype.trackOperationalEvents=function(e){this.argmap&&this.argmap.enablePolaroid&&this.trackCustomEvent({eventSource:Xa,eventType:bb,eventName:Za,timestamp:Date.now(),operationalData:e})},e.prototype.sanitizeFields=function(e){db(e)?this.outQueueManager.setSanitizerFunction(e):U("'sanitizeFields' did not receive a function.")},e.prototype.addIframeListeners=function(e,t){var i=document.getElementById(e);return null!==i&&!this.iframeEventListeners[e]&&(this.setupListeners(i,t),!0)},e.prototype.removeIframeListeners=function(e){var t=document.getElementById(e);return null!==t&&(this.teardownListeners(t),delete this.iframeEventListeners[e],!0)},e}();ab=Re,C.Tracker=ab;var Se=void 0;var Te=function(){function e(e,r,t,a){var n=this;this.getNamedTrackers=function(e){var r=[];if(e&&0!==e.length)for(var t=0;t<e.length;t++)n.trackerDictionary.hasOwnProperty(e[t])?r.push(n.trackerDictionary[e[t]]):U("Warning: Tracker namespace \""+e[t]+"\" not configured");else r=Object.keys(n.trackerDictionary).map(function(e){return n.trackerDictionary[e]});return 0===r.length&&U("Warning: No tracker configured"),r},this.createNewNamespace=function(e,r,t){if(t=t||{},n.trackerDictionary.hasOwnProperty(e))U("Tracker namespace "+e+" already exists.");else{var a=new ab({functionName:n.functionName,namespace:e,version:n.version,mutSnowplowState:n.mutSnowPlowState,configCollectorUrl:r||"",argmap:t});n.trackerDictionary[e]=a}},this.parseInputString=function(e){var r=e.split(":");return{extractedFunction:r[0],extractedNames:r.length>1?r[1].split(";"):[]}},this.trackerDictionary={},this.functionName=a,this.version=e,this.mutSnowPlowState=r;for(var i=0;i<t.length;i++)this.applyAsyncFunction(t[i]);this.push=this.applyAsyncFunction}return e.prototype.applyAsyncFunction=function(){for(var e,r,t,a,n,i=0;i<arguments.length;i+=1)if(r=arguments[i],t=Array.prototype.shift.call(r),db(t))t.apply(this.trackerDictionary,r);else{var o=(a=this.parseInputString(t)).extractedFunction,s=a.extractedNames;if("newTracker"!==o)for(n=this.getNamedTrackers(s),e=0;e<n.length;e++)n[e][o].apply(n[e],r);else Q(window,"AWSC","Clog","system","prequeue")&&"function"==typeof window.AWSC.Clog.system.prequeue&&window.AWSC.Clog.system.prequeue("panoTrackerInitialized",1),this.createNewNamespace(r[0],r[1],r[2])}},e}();Se=Te;var kc=void 0;var Ve=function(){return function(e,t){var a=this;this.beforeUnloadHandler=function(){var e,t=a.queue&&a.queue.trackerDictionary?a.queue.trackerDictionary:{};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],o=r.getTrackerStats();for(var u in o)-1===["sentEvents","capturedEvents","numClogCaptured","numClogThrottled","numClogSeen"].indexOf(u)&&o.hasOwnProperty(u)&&-1===u.indexOf("Details")&&o[u]>0&&r.trackCustomEvent({eventSource:"panoramaInternal",eventType:u,eventContext:"",eventDetail:"userDisallowedPanoramaEvents"===u?"":JSON.stringify(o[u+"Details"]),eventValue:o[u],timestamp:Date.now()});var d=o.sentEvents,l=o.capturedEvents,s=o.retries,i=o.droppedEvents,m=o.throttledEvents,$=o.numClogCaptured,p=o.numClogSeen,v=o.numClogThrottled,w=o.userDisallowedPanoramaEvents,S=Q(window,"AWSC","Clog","bufferedQueue")?window.AWSC.Clog.bufferedQueue.length:0;r.trackCustomEvent({eventSource:"panoramaInternal",eventType:"completedEvents",eventDetail:JSON.stringify({sentEvents:d+S,capturedEvents:l+S,retries:s,droppedEvents:i,throttledEvents:m,numClogCaptured:$+S,numClogSeen:p+S,numClogThrottled:v,userDisallowedPanoramaEvents:w}),eventValue:(d/l).toFixed(2),timestamp:Date.now()})}if(a.mutSnowplowState.bufferFlushers.forEach(function(e){e()}),a.mutSnowplowState.expireDateTime)do{if(e=new Date,0===a.mutSnowplowState.outQueues.filter(function(e){return e.length>0}).length)break}while(e.getTime()<a.mutSnowplowState.expireDateTime)},this.loadHandler=function(){var e;if(!a.mutSnowplowState.hasLoaded)for(a.mutSnowplowState.hasLoaded=!0,e=0;e<a.mutSnowplowState.registeredOnLoadHandlers.length;e++)a.mutSnowplowState.registeredOnLoadHandlers[e]();return!0},this.addReadyListener=function(){var e,t=a.loadHandler,n=document,r=window,o=a.mutSnowplowState;n.addEventListener?F(n,"DOMContentLoaded",function e(){n.removeEventListener("DOMContentLoaded",e,!1),t()}):n.attachEvent&&(n.attachEvent("onreadystatechange",function e(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",e),t())}),n.documentElement.doScroll&&r===r.top&&function e(){if(!o.hasLoaded){try{n.documentElement.doScroll("left")}catch(a){return void setTimeout(e,0)}t()}}()),new RegExp("WebKit").test(navigator.userAgent)&&(e=setInterval(function(){(a.mutSnowplowState.hasLoaded||/loaded|complete/.test(n.readyState))&&(clearInterval(e),t())},10)),F(r,"load",t,!1)};var n=window;this.version="2.5.4",this.mutSnowplowState={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[],pageViewId:fb.v4()},F(n,"beforeunload",this.beforeUnloadHandler,!1),this.addReadyListener(),this.queue=new Se(this.version,this.mutSnowplowState,e,t)}}();kc=Ve;var gb={},Xe=!0;gb.__esModule=Xe;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),t=1;t<arguments.length;t++){var o=arguments[t];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},writable:!0,configurable:!0});var T=window;if(T.GlobalSnowplowNamespace&&T.GlobalSnowplowNamespace.length>0){var Nb=T.GlobalSnowplowNamespace.shift(),Mb=T[Nb],qc=new kc(Mb.q,Nb);Mb.q=qc.queue}else{T._snaq=T._snaq||[];qc=new kc(T._snaq,"_snaq");T._snaq=qc.queue}if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=gb}else if(typeof define==="function"&&define.willnevermatch){define(function(){return gb})}})();
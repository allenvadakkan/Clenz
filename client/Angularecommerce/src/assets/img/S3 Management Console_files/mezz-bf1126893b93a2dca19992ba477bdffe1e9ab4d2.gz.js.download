if(!window.AWSC){AWSC={}}AWSC.PanoramaTrackerInit=(function(){var d="/panoramawhitelist",h=".prod.pw.analytics.console.aws.a2z.com",i="us-east-1",e=".prod.pr.analytics.console.aws.a2z.com",q=3,w="web",m="panorama",s="/allowlist",k="console.aws.amazon.com",r="/panoramaroute",t=i+h+d,o=k+r+s,p=1000,j=function(){return undefined},c=0,l=20000,a=0;if(window.AWSC&&window.AWSC.Clog&&window.AWSC.Clog.log){j=window.AWSC.Clog.log}var g=function(C,A,D,B){if(!C||!A||!D||!B){var y="";if(!C){y+="region;"}if(!A){y+="service;"}if(!D){y+="modality;"}if(!B){y+="trackerUrl;"}j({key:"panoALParamsUnavailable",value:1,detail:y});return false}var x="";if(C==="eu-west-1"&&(A==="ec2"||A==="cloud9")){var G=[t,o,t,o];x="https://"+G[c]+"?modality="+D+"&identifier="+A+"&region="+C}else{x="https://"+t+"?modality="+D+"&identifier="+A+"&region="+C}var E=Boolean(window.location.href.indexOf("panoramaEnabled")!==-1);var F=new XMLHttpRequest();F.open("GET",x,true);F.onreadystatechange=function(){if(F.readyState===4&&F.status===200){j("panoALSuccessful",1);j({key:"panoALSuccessLatency",value:Date.now()-z,unit:"ms"});var H=JSON.parse(F.response);if(H.isWhitelisted){j("panoALTrue",1)}if(H.isWhitelisted||E){var I={};if(H.trackerConfig){try{I=JSON.parse(H.trackerConfig)}catch(J){j({key:"panoALParseError",value:1})}}if(I.trackerUrl&&(I.trackerUrlRatio||1)>Math.random()){B=I.trackerUrl}if(I.disablePhantom&&!!window.callPhantom){return}n(D,C,window,document,"script",B,m,null,null,I)}else{window.panorama={};window.panorama.enabled=false;window.AWSC.Clog.bufferedQueue=[];j("panoALFalse",1)}}else{if(F.readyState===4&&(F.status>=400||F.status===0)){j({key:"panoALFailureLatency",value:Date.now()-z,unit:"ms"});if(c<q){c++;if(c===1){j({key:"anyPanoALFail",value:1,detail:F.status})}else{j({key:"panoALFail",value:c,detail:F.status})}F.abort();setTimeout(function(){g(C,A,D,B)},p)}else{window.AWSC.Clog.bufferedQueue=[];j("panoZeroRetriesLeft",1)}}}if(F.readyState===4&&(F.status===200||c>=q)){j({key:"totalPanoALRetries",value:c})}};F.ontimeout=function(){a++;j("panoALTimeoutExceeded",a)};F.timeout=l;var z=Date.now();F.send();if(c===0){j("anyPanoALSent",1)}else{j("panoALSent",c)}return false};var n=function(C,x,y,D,z,H,F,B,G,E){if(!y[F]){y.GlobalSnowplowNamespace=y.GlobalSnowplowNamespace||[];y.GlobalSnowplowNamespace.push(F);y[F]=function(){(y[F].q=y[F].q||[]).push(arguments)};y[F].loadTime=Date.now();y[F].enabled=true;y[F].q=y[F].q||[];y[F].trackCustomEvent=function(){[].unshift.call(arguments,"trackCustomEvent");y[F].apply(this,arguments)};B=D.createElement(z);G=D.getElementsByTagName(z)[0];B.async=1;B.src=H;G.parentNode.insertBefore(B,G)}var A={appId:"aws-console",console:true,trackerConstants:{whitelist:false,cookieDomain:"amazon.com",pluginsEnabledByDefault:true,modality:C}};for(var I in E){if(E.hasOwnProperty(I)&&!A[I]){A[I]=E[I]}}window.panorama("newTracker","cf","//"+x+e,A)};j("panoInitLoad",1);if(AWSC.NavFAC){AWSC.NavFAC.loadFeatures();if(AWSC.NavFAC.isFeatureEnabled(m)&&ConsoleNavService&&ConsoleNavService.Model){var b=ConsoleNavService.Model.currentRegionId||i,v=ConsoleNavService.Model.currentService.id,u=w,f=document.getElementById("awsc-panorama-bundle").getAttribute("data-url");g(b,v,u,f)}}else{j("panoFacUnavailable",1)}})();